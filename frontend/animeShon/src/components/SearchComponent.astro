---
const { anime } = Astro.props;
---

<a href={`/anime?id=${anime.mal_id}`} class="anime-link">
  <div class="anime-card">
    <div
      class="threejs"
      style={`background-image: url('${anime.images.jpg.image_url}'); background-size: cover; background-position: center;`}
    ></div>
    <div class="anime-info">
      <h3 class="anime-title">{anime.title}</h3>
      <span class="anime-year">{anime.aired.prop.from.year ?? 'N/A'}</span>
    </div>
  </div>
</a>

<style>
.anime-link {
  text-decoration: none;
  color: inherit;
  display: inline-block;
}
.anime-card {
  position: relative;
  margin: 2em;
  padding: 0.3em;
  border-radius: 8px;
  overflow: hidden;
  background: rgba(255,255,255,0.05);
  transition: all 750ms;
  cursor: pointer;
}
.anime-card:hover {
  box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
  animation: glowPulse 2s infinite alternate;
}
@keyframes glowPulse {
  from { box-shadow: 0 0 15px rgba(0,255,255,0.2); }
  to { box-shadow: 0 0 25px rgba(0,255,255,0.5); }
}
.threejs {
  width: 256px;
  height: 256px;
}
.anime-info {
  position: absolute;
  bottom: 10px;
  left: 10px;
  background: rgba(0,0,0,0.6);
  color: #fff;
  padding: 4px 8px;
  border-radius: 8px;
  font-size: 0.9rem;
}
</style>